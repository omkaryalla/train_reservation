{"version":3,"sources":["config.js","App.js","reportWebVitals.js","index.js"],"names":["exports","base_url","fetch","require","Seat","className","this","props","booked","number","style","React","Component","Train","state","seatState","Array","fill","selectedSeatCount","clearButton","class","text","bookButton","method","headers","then","res","json","console","log","local_seats","map","each","forEach","e","setState","catch","err","error","updateBookedSeats","gridStyle","display","justifyContent","isMobile","window","innerWidth","gridTemplateColumns","fontSize","margin","paddingTop","lineHeight","alignItems","width","height","backgroundColor","borderRadius","marginLeft","i","marginBottom","onChange","target","value","_","onClick","options","body","now_booked","already_booked","marginTop","color","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59a9ac8b.chunk.js","sourcesContent":["const base_url = \"https://d2cnodeserver.herokuapp.com\" //https://35.200.253.45:3000\"\n\nexports.base_url = base_url\n","import './App.css';\nimport React from 'react';\n\nconst fetch = require('node-fetch');\nconst {base_url} = require('./config')\n\nclass Seat extends React.Component {\n    render() {\n        let className = this.props.booked != null ? 'seat ' : 'seat_loading';\n        className += this.props.booked === 1 ? \"booked\" : this.props.booked === 2 ? \"booked_now\" : \"\"\n        className += this.props.number % 7 === 3 ? \" path\" : \"\"\n        return (\n            <div className={className} style={this.props.style}>\n                {this.props.number}\n            </div>\n        );\n    }\n}\n\nclass Train extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            seatState: Array(80).fill(null),\n            selectedSeatCount: 1,\n            clearButton: {\n                class: \"sqe_button\",\n                text: 'Clear'\n            },\n            bookButton: {\n                class: \"sqe_button\",\n                text: 'Book'\n            }\n        };\n    }\n\n    updateBookedSeats() {\n        let options = {\n            method: 'GET',\n            headers: {'Content-Type': 'application/json'},\n        };\n\n        fetch(base_url, options)\n            .then(res => res.json())\n            .then(json => {\n                console.log(json)\n                let local_seats = Array(80).fill(0);\n                const booked_seats = json.map(each => each['_id']);\n                booked_seats.forEach(e => {\n                    local_seats[e - 1] = 1;\n                })\n                this.setState({\n                    seatState: local_seats\n                })\n            })\n            .catch(err => console.error('error:' + err));\n    }\n\n    componentDidMount() {\n        this.updateBookedSeats();\n    }\n\n    render() {\n        let gridStyle = {display: \"grid\", justifyContent: \"center\"};\n        let isMobile = window.innerWidth <= 700;\n        if(!isMobile){\n            gridStyle.gridTemplateColumns = \"repeat(3, auto)\";\n        }\n        return (\n            <div className=\"App\">\n                <span style={{fontSize: \"xx-large\", margin: \"auto\", paddingTop: \"1rem\"}}>Book your Tickets</span>\n                <div style={gridStyle} >\n                    <p style={{lineHeight: \"2rem\", display: \"inline-block\"}}>\n                        <div style={{display: \"flex\", alignItems: \"center\"}}>\n                            <div style={{width: \"1rem\", height: \"1rem\", backgroundColor: \"#1fd262\", borderRadius: \"0.2rem\"}}></div>\n                            <div style={{marginLeft: \"0.5rem\"}}>Booked</div>\n                        </div>\n                        <div style={{display: \"flex\", alignItems: \"center\"}}>\n                            <div style={{width: \"1rem\", height: \"1rem\", backgroundColor: \"#d2ca1f\", borderRadius: \"0.2rem\"}}></div>\n                            <div style={{marginLeft: \"0.5rem\"}}>You Just Booked</div>\n                        </div>\n                        <div style={{display: \"flex\", alignItems: \"center\"}}>\n                            <div style={{width: \"1rem\", height: \"1rem\", backgroundColor: \"#ffffff\", borderRadius: \"0.2rem\"}}></div>\n                            <div style={{marginLeft: \"0.5rem\"}}>Available</div>\n                        </div>\n                    </p>\n                    <div className=\"seats_layout\" style={{margin: isMobile ? \"0rem 0rem\" : \"0rem 2rem\"}}>\n                        {this.state.seatState.map((e, i) => <Seat\n                            number={i + 1} booked={e}/>)}\n                    </div>\n                    <div>\n                        <div style={{marginBottom: \"1rem\"}}>\n                            <p>Seats</p>\n                            <select onChange={(e) => {\n                                this.setState({selectedSeatCount: e.target.value})\n                            }}>\n                                {Array(7).fill(null).map((_, i) => <option value={i + 1}> {i + 1} </option>)}\n                            </select>\n                        </div>\n\n                        <button className={this.state.bookButton.class} onClick={() => {\n                            this.setState({\n                                bookButton: {\n                                    class: \"sqe_button button_expand\",\n                                    text: \"Booking ...\"\n                                }\n                            })\n                            let options = {\n                                method: 'POST',\n                                headers: {'Content-Type': 'application/json'},\n                                body: `{\"count\": ${this.state.selectedSeatCount}}`\n                            };\n\n                            fetch(base_url + \"/book\", options)\n                                .then(res => res.json())\n                                .then(json => {\n                                    if ('msg' in json) {\n\n                                    }\n                                    let now_booked = json.now_booked;\n                                    let already_booked = json.booked;\n                                    let local_seats = Array(80).fill(0);\n                                    const booked_seats = already_booked.map(each => each['_id']);\n                                    booked_seats.forEach(e => {\n                                        local_seats[e - 1] = 1;\n                                    })\n                                    now_booked.forEach(e => {\n                                        local_seats[e - 1] = 2;\n                                    })\n                                    this.setState({\n                                        seatState: local_seats,\n                                        bookButton: {\n                                            class: \"sqe_button\",\n                                            text: \"Book\"\n                                        }\n                                    })\n                                })\n                                .catch(err => console.error('error:' + err));\n                        }}>{this.state.bookButton.text}\n                        </button>\n                    </div>\n                </div>\n                <button className={this.state.clearButton.class} style={{marginTop: \"1rem\", backgroundColor: \"#e91e1e\", color: \"white\"}} onClick={() => {\n                    this.setState({\n                        clearButton: {\n                            class: \"sqe_button button_expand\",\n                            text: \"Clearing...\"\n                        }\n                    })\n                    let options = {\n                        method: 'DELETE',\n                        headers: {'Content-Type': 'application/json'},\n                    };\n\n                    fetch(base_url + \"/clear\", options)\n                        .then(() => {\n                            this.setState({\n                                seatState: Array(80).fill(0),\n                                clearButton: {\n                                    class: \"sqe_button\",\n                                    text: \"Clear\"\n                                }\n                            })\n                        })\n                        .catch(err => console.error('error:' + err));\n                }}>{this.state.clearButton.text}\n                </button>\n            </div>\n        );\n    }\n}\n\nfunction App() {\n    return (\n        <div>\n            <Train/>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}