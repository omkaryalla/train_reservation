(this.webpackJsonptrain_reservation=this.webpackJsonptrain_reservation||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},16:function(e,t){t.base_url="https://35.200.253.45:3000"},17:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(7),s=n.n(i),c=(n(12),n(3)),a=n(4),l=n(6),d=n(5),u=(n(13),n(0)),h=n(15),j=n(16).base_url,b=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=null!=this.props.booked?"seat ":"seat_loading";return e+=1===this.props.booked?"booked":2===this.props.booked?"booked_now":"",e+=this.props.number%7===3?" path":"",Object(u.jsx)("div",{className:e,style:this.props.style,children:this.props.number})}}]),n}(o.a.Component),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={seatState:Array(80).fill(null),selectedSeatCount:1},r}return Object(a.a)(n,[{key:"updateBookedSeats",value:function(){var e=this;h(j,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);var n=Array(80).fill(0);t.map((function(e){return e._id})).forEach((function(e){n[e-1]=1})),e.setState({seatState:n})})).catch((function(e){return console.error("error:"+e)}))}},{key:"componentDidMount",value:function(){this.updateBookedSeats()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("span",{style:{fontSize:"xx-large",margin:"auto",paddingTop:"1rem"},children:"Book your Tickets"}),Object(u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, auto)",justifyContent:"center"},children:[Object(u.jsxs)("p",{style:{lineHeight:"2rem",display:"inline-block"},children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)("div",{style:{width:"1rem",height:"1rem",backgroundColor:"#1fd262",borderRadius:"0.2rem"}}),Object(u.jsx)("div",{style:{marginLeft:"0.5rem"},children:"Booked"})]}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)("div",{style:{width:"1rem",height:"1rem",backgroundColor:"#d2ca1f",borderRadius:"0.2rem"}}),Object(u.jsx)("div",{style:{marginLeft:"0.5rem"},children:"You Just Booked"})]}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)("div",{style:{width:"1rem",height:"1rem",backgroundColor:"#ffffff",borderRadius:"0.2rem"}}),Object(u.jsx)("div",{style:{marginLeft:"0.5rem"},children:"Available"})]})]}),Object(u.jsx)("div",{className:"seats_layout",children:this.state.seatState.map((function(e,t){return Object(u.jsx)(b,{number:t+1,booked:e})}))}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{style:{marginBottom:"1rem"},children:[Object(u.jsx)("p",{children:"Seats"}),Object(u.jsx)("select",{onChange:function(t){e.setState({selectedSeatCount:t.target.value})},children:Array(7).fill(null).map((function(e,t){return Object(u.jsxs)("option",{value:t+1,children:[" ",t+1," "]})}))})]}),Object(u.jsx)("button",{className:"sqe_button",onClick:function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:'{"count": '.concat(e.state.selectedSeatCount,"}")};h(j+"/book",t).then((function(e){return e.json()})).then((function(t){var n=t.now_booked,r=t.booked,o=Array(80).fill(0);r.map((function(e){return e._id})).forEach((function(e){o[e-1]=1})),n.forEach((function(e){o[e-1]=2})),e.setState({seatState:o})})).catch((function(e){return console.error("error:"+e)}))},children:"Book"})]})]}),Object(u.jsx)("button",{className:"sqe_button",style:{marginTop:"1rem",backgroundColor:"#e91e1e",color:"white"},onClick:function(){h(j+"/clear",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(){e.updateBookedSeats()})).catch((function(e){return console.error("error:"+e)}))},children:"Clear"})]})}}]),n}(o.a.Component);var p=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(f,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),o(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.b75aa2b0.chunk.js.map